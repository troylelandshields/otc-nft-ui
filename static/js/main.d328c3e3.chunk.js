(this["webpackJsonpotc-nft-ui"]=this["webpackJsonpotc-nft-ui"]||[]).push([[0],{107:function(e,t,a){},132:function(e,t){},147:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);a(100),a(101);var n=a(1),r=a.n(n),c=a(40),o=a.n(c),s=(a(107),a(4)),l=a(5),i=a(8),u=a(7),d=a(158),j=a(18),b=a(153),h=a(89),p=a(159),x=a(161),m=a(39),O={apiHost:"https://otc-nft-api.herokuapp.com",env:"rinkeby",ethAPIProvider:"https://eth-rinkeby.alchemyapi.io/v2/sl7kpn-EhhbJ_6B39V4uuMQNzGRjl-ei"},f=a(6);var v=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(b.a,{children:Object(f.jsxs)(h.a,{children:[Object(f.jsx)("h1",{children:"Over the Counter: NFTs for the Masses"})," ",O.env?"(".concat(O.env,")"):null]})}),Object(f.jsx)(p.a,{sticky:"top",children:Object(f.jsxs)(x.a,{defaultActiveKey:"home",children:[Object(f.jsx)(x.a.Link,{as:m.b,eventKey:"home",to:"/",children:"Home"}),Object(f.jsx)(x.a.Link,{as:m.b,eventKey:"counterfeit",to:"/counterfeit",children:"Counterfeit"})]})})]})},g=a(52),y=a.n(g);var C=function(e){return Object(f.jsxs)(b.a,{children:[Object(f.jsxs)(h.a,{className:"col-md-4",children:["Step 1: ",Object(f.jsx)("a",{href:"https://testnets.opensea.io/assets",target:"_blank",rel:"noreferrer",children:"Find an NFT"})," you love or want to sell."]}),Object(f.jsx)(h.a,{className:"col-md-4",children:"Step 2: Put the URL into the Counterfeit page."}),Object(f.jsx)(h.a,{className:"col-md-4",children:"Step 3: Profit."})]})},w=a(3),T=a.n(w),k=a(48),I=a(27),N=a(97),D=a(160),L=a(156),F=a(70),P=a(47),S=a.n(P),G=a(154);var _=function(e){var t=function(e,t,a){if(t){if(function(e){var t=e.split(".").pop();return!!t&&"glb"===t.toLowerCase()}(t))return Object(f.jsx)("model-viewer",{"max-width":"250px","auto-rotate":"true",autoplay:"true","camera-controls":"true",src:t,"ar-status":"not-presenting"});if(function(e){var t=e.split(".").pop();return!!t&&("mp4"===t.toLowerCase()||"ogg"===t.toLowerCase()||"webm"===t.toLowerCase()||"ogv"===t.toLowerCase())}(t))return Object(f.jsx)("video",{height:"200px","max-width":"250px",muted:!0,autoPlay:!0,controlsList:"nodownload",loop:!0,preload:"auto",src:t})}return Object(f.jsx)("img",{height:"200px","max-width":"250px",src:a,alt:"Error loading contract pic"})};return Object(f.jsx)(F.b,{initialValues:e.meta,validate:function(e){return{}},children:function(a){var n=a.values,r=a.handleChange;return Object(f.jsxs)(f.Fragment,{children:[e.changes&&e.changes(n),Object(f.jsxs)(b.a,{children:[Object(f.jsx)(h.a,{className:"col-md-6",children:t(0,n.animation_url,n.image)}),Object(f.jsxs)(h.a,{className:"col-md-6",children:[Object(f.jsxs)(D.a.Group,{controlId:"nftmeta-name"+n.NFTID,children:[Object(f.jsx)(D.a.Label,{children:"Name"}),Object(f.jsx)(D.a.Control,{onChange:r,name:"name",disabled:!e.editable,type:"text",placeholder:"NFT Name, go nuts",value:n.name})]}),Object(f.jsxs)(D.a.Group,{controlId:"nftmeta-desc"+n.NFTID,children:[Object(f.jsx)(D.a.Label,{children:"Description"}),Object(f.jsx)(D.a.Control,{as:"textarea",disabled:!e.editable,onChange:r,name:"description",style:{height:"100%"},placeholder:"NFT Description, make sure you sell its uniquness hard",value:n.description})]})]})]}),Object(f.jsx)("h4",{children:"Attributes"}),Object(f.jsx)(b.a,{children:Object(f.jsx)(F.a,{name:"attributes",children:function(t){t.insert;var a=t.remove;t.push;return n.attributes.map((function(t,n){t.formattedVal=t.value,"number"===t.value?t.inputType="number":t.inputType="text",t.max_value&&(t.formattedVal="".concat(t.value," of ").concat(t.max_value)),"date"===t.display_type&&(t.inputType="date",t.formattedVal=S.a.unix(t.value).format("YYYY-MM-DD"));var c=!e.editable||"otc"===t.origin||!!t.max_value;return Object(f.jsx)(h.a,{className:"col-4",children:Object(f.jsxs)(D.a.Group,{controlId:"nftmeta"+n,children:[Object(f.jsx)(D.a.Label,{children:"".concat(t.trait_type)})," ",c?null:Object(f.jsx)(G.a,{onClick:function(){return a(n)}}),Object(f.jsx)(D.a.Control,{onChange:r,name:"attributes.".concat(n,".value"),disabled:c,type:t.inputType,value:t.formattedVal}),t.display_type?Object(f.jsx)(D.a.Text,{className:"text-muted",children:t.display_type}):null]})},n)}))}})}),Object(f.jsx)(b.a,{children:Object(f.jsxs)(h.a,{className:"col-md-12",children:[Object(f.jsxs)(D.a.Group,{controlId:"nftmeta-img-url"+n.NFTID,children:[Object(f.jsx)(D.a.Label,{children:"Image URL"}),Object(f.jsx)(D.a.Control,{onChange:r,name:"image",disabled:!e.editable,type:"text",placeholder:"Image URL",value:n.image})]}),Object(f.jsxs)(D.a.Group,{controlId:"nftmeta-ext-url"+n.NFTID,children:[Object(f.jsx)(D.a.Label,{children:"External URL"}),Object(f.jsx)(D.a.Control,{onChange:r,name:"external_url",disabled:!e.editable,type:"text",value:n.external_url})]}),Object(f.jsxs)(D.a.Group,{controlId:"nftmeta-youtube-url"+n.NFTID,children:[Object(f.jsx)(D.a.Label,{children:"Youtube URL"}),Object(f.jsx)(D.a.Control,{onChange:r,name:"youtube_url",disabled:!e.editable,type:"text",value:n.youtube_url})]}),Object(f.jsxs)(D.a.Group,{controlId:"nftmeta-animation-url"+n.NFTID,children:[Object(f.jsx)(D.a.Label,{children:"Animation URL"}),Object(f.jsx)(D.a.Control,{onChange:r,name:"animation_url",disabled:!e.editable,type:"text",value:n.animation_url})]})]})})]})}})},E=a(60),A=a(157);var M=function(e){var t=Object(n.useState)(""),a=Object(I.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),s=Object(I.a)(o,2),l=s[0],i=s[1],u=Object(n.useState)(!1),d=Object(I.a)(u,2),j=d[0],p=d[1],x=Object(n.useState)(S()().add(1,"month").format("YYYY-MM-DD")),m=Object(I.a)(x,2),v=m[0],g=m[1],C=Object(n.useState)("12:00"),w=Object(I.a)(C,2),F=w[0],P=w[1],G=Object(n.useState)(!1),M=Object(I.a)(G,2),R=M[0],Y=M[1],V=Object(n.useState)(!1),U=Object(I.a)(V,2),B=U[0],H=U[1],W=Object(n.useState)(!1),q=Object(I.a)(W,2),J=q[0],K=q[1],z=Object(n.useState)(null),Q=Object(I.a)(z,2),$=Q[0],X=Q[1],Z=Object(n.useState)(null),ee=Object(I.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(null),re=Object(I.a)(ne,2),ce=re[0],oe=re[1];Object(n.useEffect)((function(){var e=!!r&&!!l;j&&Y(e&&!!v&&!!F),Y(e)}),[r,l,j,v,F]),Object(n.useEffect)((function(){H(!!$)}),[$]),Object(n.useEffect)((function(){if(window.ethereum){var e=new E.a.providers.Web3Provider(window.ethereum);ae(e)}}),[$]),Object(n.useEffect)((function(){(function(){var e=Object(k.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te){e.next=2;break}return e.abrupt("return");case 2:return e.t0=K,e.next=5,te.listAccounts();case 5:e.t1=e.sent,e.t2=e.t1>0,(0,e.t0)(e.t2);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[te]);var se=function(){var e=Object(k.a)(T.a.mark((function e(t){var a,n,c,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(l,r),e.prev=2,j&&(a=S()(v+" "+F).format()),e.next=6,y.a.post("".concat(O.apiHost,"/api/v1/preview"),{Type:"contract",ContractAddr:r,CounterfeitTokenID:l,RugPullTime:a});case 6:n=e.sent,c=n.data,o=E.a.utils.formatEther(c.TotalPriceInWei+""),console.log(o),c.etherValue=o,c.usdValue=c.PriceDetails.PriceUSCents/100,X(c),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.log("Error occurred when attempting to go to checkout.",e.t0),alert("It looks like that NFT isn't yet supported by OTC; we're working on it, but in the meantime try another one.");case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(k.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:K(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error requesting accounts",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(k.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=te.getSigner(),e.next=4,a.sendTransaction({to:$.OTCMarketContractAddr,value:E.a.BigNumber.from($.TotalPriceInWei+"")});case 4:return n=e.sent,e.next=7,y.a.post("".concat(O.apiHost,"/api/v1/mint/").concat($.OrderID),{OrderID:$.OrderID,PaymentTransactionID:n.hash,DestinationAddress:n.from,NFTMeta:ce});case 7:alert("Success! You'll have a newly minted NFT shortly"),c(""),i(""),p(!1),oe(null),X(null),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("Error finishing transaction",e.t0),alert("Uhhh, something went wrong... contact me about getting this worked out.");case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsxs)(D.a,{children:[Object(f.jsxs)(D.a.Group,{controlId:"counterfeitContractAddr",children:[Object(f.jsx)(D.a.Label,{children:"Contract Address"}),Object(f.jsx)(D.a.Control,{disabled:B,value:r,onChange:function(e){return function(e){var t=e.split("assets");if(t&&2===t.length){var a=t[1].split("/");a&&3===a.length?(c(a[1]),i(a[2])):c(e)}else c(e)}(e.target.value)},type:"text",placeholder:"Paste a link from OpenSea or any ERC721 contract's ethereum address"}),Object(f.jsx)(D.a.Text,{className:"text-muted",children:"If this is wrong I don't want to be right."})]}),r?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(D.a.Group,{controlId:"counterfeitTokenId",children:[Object(f.jsx)(D.a.Label,{children:"Token ID"}),Object(f.jsx)(D.a.Control,{disabled:B,value:l,onChange:function(e){return i(e.target.value)},type:"text",placeholder:"Input the Token ID you want"})]}),Object(f.jsxs)(b.a,{children:[Object(f.jsx)(h.a,{className:"col-md-4 col-12",children:Object(f.jsxs)(D.a.Group,{controlId:"includeRugPull",children:[Object(f.jsx)(D.a.Check,{disabled:B,checked:j,onChange:function(e){return p(e.target.checked)},type:"checkbox",label:"Include Rug Pull"}),Object(f.jsx)(D.a.Text,{className:"text-muted",children:"A rugpull will change the metadata of the contract on a certain date; let's you do some pretty classic pranks on your friends. Be aware that this is associated with an increased cost."})]})}),j?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(h.a,{className:"col-md-4 col-12",children:Object(f.jsx)(D.a.Group,{controlId:"rugPullTime",children:Object(f.jsx)(D.a.Control,{disabled:B,value:v,onChange:function(e){return g(e.target.value)},type:"date"})})}),Object(f.jsx)(h.a,{className:"col-md-4 col-12",children:Object(f.jsx)(D.a.Group,{controlId:"rugPullTime",children:Object(f.jsx)(D.a.Control,{disabled:B,value:F,onChange:function(e){return P(e.target.value)},type:"time"})})})]}):null]})]}):null,B?Object(f.jsx)(L.a,{variant:"default",onClick:function(e){e.preventDefault(),c(""),i(""),p(!1),X(null),oe(null)},children:"Clear"}):Object(f.jsx)(L.a,{variant:"primary",onClick:se,disabled:!R,children:"Go to Checkout"})]}),$?Object(f.jsxs)("div",{children:[Object(f.jsx)("hr",{style:{marginTop:"30px",marginBottom:"30px"}}),Object(f.jsxs)(b.a,{children:[Object(f.jsxs)(h.a,{className:"col-md-6",children:[Object(f.jsx)("h3",{children:"Contract Details"}),Object(f.jsx)(_,{meta:$.NFTMeta})]}),j?Object(f.jsxs)(h.a,{className:"col-md-6",children:[Object(f.jsx)("h3",{children:"Rug Pull Details"}),Object(f.jsx)(_,{meta:$.NFTMeta,editable:!0,changes:function(e){return oe(e)}})]}):null]}),Object(f.jsx)("hr",{style:{marginTop:"30px",marginBottom:"30px"}}),Object(f.jsx)(b.a,{children:Object(f.jsx)(h.a,{className:"col-md-6 col-12",children:Object(f.jsxs)(D.a,{children:[Object(f.jsxs)(D.a.Group,{controlId:"totalPrice",children:[Object(f.jsx)(N.a,{offset:"right",multiline:!0,children:$.PriceDetails.LineItems.map((function(e,t){return Object(f.jsx)("div",{children:e},t)}))}),Object(f.jsx)(D.a.Label,{children:Object(f.jsx)("h5",{children:"Total Price"})}),Object(f.jsx)(A.a,{"data-tip":"price-details",style:{marginLeft:"10px"}}),Object(f.jsx)(D.a.Control,{readOnly:!0,type:"text",value:"".concat($.etherValue," ETH - ($").concat($.usdValue," + gas)")})]}),Object(f.jsxs)(D.a.Group,{controlId:"connectWallet",children:[Object(f.jsx)(L.a,{disabled:J,variant:"primary",onClick:le,children:"1. Connect Wallet"}),Object(f.jsx)(D.a.Text,{className:"text-muted",children:'By submitting this transaction, you are acknowledging that you understand that are purchasing a "copy" of an NFT from a different contract. This NFT does not pretend to be the original and service of contract metadata could potentially be hindered by the other party. You are also acknowledging that this platform is someone\'s side project, and therefore support for any technical issues is likely to be slow but earnest.'})]}),Object(f.jsx)(D.a.Group,{children:Object(f.jsx)(L.a,{disabled:!J,variant:"primary",onClick:ie,children:"2. Finish Transaction to Mint NFT"})})]})})})]}):null]})},R=(a(147),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsx)(d.a,{children:Object(f.jsxs)("div",{children:[Object(f.jsx)(v,{}),Object(f.jsx)(j.a,{exact:!0,path:"/",component:C}),Object(f.jsx)(j.a,{path:"/counterfeit",component:M})]})})}}]),a}(n.Component));o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(m.a,{children:Object(f.jsx)(R,{})})}),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.d328c3e3.chunk.js.map